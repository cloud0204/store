"use strict";(self["webpackChunkhhhhhhhhh"]=self["webpackChunkhhhhhhhhh"]||[]).push([[48],{1825:function(e,t,a){a.d(t,{Z:function(){return Z}});var s=a(3396),r=a(7139),l=a(9242);const o={class:"form"},n={class:"container"},i=(0,s._)("div",{class:"section-header text-center"},[(0,s._)("h2",null,"item's form")],-1),u={class:"form-form"},d=(0,s._)("div",{id:"success"},null,-1),c={name:"sentMessage",id:"form",novalidate:"novalidate"},g={key:0},m={class:"control-group"},p=(0,s._)("p",{class:"help-block text-danger"},null,-1),h={class:"control-group"},y=(0,s._)("p",{class:"help-block text-danger"},null,-1),q={class:"control-group"},D=(0,s._)("p",{class:"help-block text-danger"},null,-1),v={class:"control-group"},f={class:"form-group"},_=(0,s._)("label",{for:"status"},"select item status",-1),w=(0,s._)("option",null,"PUBLISHED",-1),I=(0,s._)("option",null,"DRAFT",-1),b=(0,s._)("option",null,"RECYCLE",-1),k=[w,I,b],N=(0,s._)("p",{class:"help-block text-danger"},null,-1),x={class:"control-group"},M={class:"form-group"},A=(0,s._)("label",{for:"categoryId"},"select a category name",-1),U=["value","selected"],V=(0,s._)("option",{value:"null"},"create a new category",-1),C=["disabled"],P=(0,s._)("p",{class:"help-block text-danger"},null,-1);function $(e,t,a,w,I,b){return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",n,[i,(0,s._)("div",u,[d,(0,s._)("form",c,[null!=I.requestData.id?((0,s.wg)(),(0,s.iD)("h3",g,"item id:"+(0,r.zw)(I.requestData.id),1)):(0,s.kq)("",!0),(0,s._)("div",m,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"title",placeholder:"item title",required:"required","data-validation-required-message":"Please enter item title","onUpdate:modelValue":t[0]||(t[0]=e=>I.requestData.title=e)},null,512),[[l.nr,I.requestData.title,void 0,{trim:!0}]]),p]),(0,s._)("div",h,[(0,s.wy)((0,s._)("textarea",{class:"form-control",id:"description",placeholder:"item description",required:"required","data-validation-required-message":"Please enter description","onUpdate:modelValue":t[1]||(t[1]=e=>I.requestData.description=e)},null,512),[[l.nr,I.requestData.description,void 0,{trim:!0}]]),y]),(0,s._)("div",q,[(0,s.wy)((0,s._)("input",{type:"number",class:"form-control",id:"price",placeholder:"item price",required:"required","data-validation-required-message":"Please enter your item price","onUpdate:modelValue":t[2]||(t[2]=e=>I.requestData.price=e)},null,512),[[l.nr,I.requestData.price,void 0,{trim:!0}]]),D]),(0,s._)("div",v,[(0,s._)("div",f,[_,(0,s.wy)((0,s._)("select",{class:"form-control",name:"status",id:"status","onUpdate:modelValue":t[3]||(t[3]=e=>I.requestData.status=e)},k,512),[[l.bM,I.requestData.status,void 0,{trim:!0}]])]),N]),(0,s._)("div",x,[(0,s._)("div",M,[A,(0,s.wy)((0,s._)("select",{class:"form-control",name:"categoryId",id:"categoryId","onUpdate:modelValue":t[4]||(t[4]=e=>I.requestData.categoryId=e),onChange:t[5]||(t[5]=(...e)=>b.showTypeArea&&b.showTypeArea(...e))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(I.category,(e=>((0,s.wg)(),(0,s.iD)("option",{key:e.id,value:e.id,selected:I.requestData.categoryId==e.id},(0,r.zw)(e.name),9,U)))),128)),V],544),[[l.bM,I.requestData.categoryId,void 0,{trim:!0}]]),(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"categoryName",placeholder:"Please type new category name","data-validation-required-message":"Please type new category name","onUpdate:modelValue":t[6]||(t[6]=e=>I.requestData.categoryName=e),disabled:null!=I.requestData.categoryId},null,8,C),[[l.nr,I.requestData.categoryName,void 0,{trim:!0}]])]),P]),(0,s._)("div",null,[(0,s._)("button",{class:"btn btn-custom",id:"sendMessageButton",onClick:t[7]||(t[7]=e=>null==I.requestData.id?b.add():b.update())}," Submit Data ")])])])])])}var T=a(8332),B={data(){return{category:[],requestData:{id:null,title:"",description:"",price:1,status:null,categoryId:null,categoryName:null}}},props:{itemId:Number},mounted(){this.initData(),this.getItemData()},methods:{async add(){null==this.requestData.categoryId&&null==this.requestData.categoryName&&(this.requestData.categoryName="default name");let e=await(0,T.OW)(this.requestData,this.$store.getters.config).then((e=>(console.log(e.data),this.requestData={id:null,title:"",description:"",price:1,status:null,categoryId:null,categoryName:null},{status:200,message:"資料新增成功",data:{},show:!0}))).catch((function(e){let{data:t,message:a,status:s}=e.response.data;return{status:s,message:a,data:t,show:!0}}));this.$store.state.requestMessage=e},async update(){null==this.requestData.categoryId&&null==this.requestData.categoryName&&(this.requestData.categoryName="default name");let e=await(0,T.IB)(this.requestData,this.$store.getters.config).then((e=>(console.log(e.data),this.requestData={id:null,title:"",description:"",price:1,status:null,categoryId:null,categoryName:null},{status:200,message:"資料修改成功",data:{},show:!0}))).catch((function(e){let{data:t,message:a,status:s}=e.response.data;return{status:s,message:a,data:t,show:!0}}));this.$store.state.requestMessage=e},initData(){(0,T.OF)().then((e=>{console.log("all ok"),console.log(e.data),this.category=e.data})).catch((function(e){console.log(e.response.data)}))},showTypeArea(){let e=document.getElementById("categoryName");if(console.log("showTypeArea"),null==this.requestData.categoryId||"null"==this.requestData.categoryId)return e.removeAttribute("disabled"),e.style.display="block",this.requestData.categoryId=null,void console.log(e.value);this.requestData.categoryName=null,console.log("2222"),e.setAttribute("disabled","true"),e.style.display="none"},getItemData(){this.$props.itemId&&(0,T.fI)(this.$props.itemId).then((e=>{console.log(e.data);let{id:t,title:a,description:s,price:r,status:l,categoryId:o}=e.data;this.requestData={id:t,title:a,description:s,price:r,status:l,categoryId:o,categoryName:null}})).catch((function(e){let{data:t,message:a,status:s}=e.response.data;return{status:s,message:a,data:t,show:!0}}))}}},E=a(89);const F=(0,E.Z)(B,[["render",$]]);var Z=F},1048:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var s=a(3396);const r={class:"manage"};function l(e,t,a,l,o,n){const i=(0,s.up)("ManagerForm");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s.Wm)(i,{msg:"XXX special price on sale"})])}var o=a(1825),n={name:"ManageView",components:{ManagerForm:o.Z}},i=a(89);const u=(0,i.Z)(n,[["render",l]]);var d=u}}]);
//# sourceMappingURL=48.5a48bf1c.js.map