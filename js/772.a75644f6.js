"use strict";(self["webpackChunkhhhhhhhhh"]=self["webpackChunkhhhhhhhhh"]||[]).push([[772],{1825:function(e,t,a){a.d(t,{Z:function(){return E}});var s=a(3396),i=a(7139),l=a(9242);const o={class:"form"},n={class:"container"},r=(0,s._)("div",{class:"section-header text-center"},[(0,s._)("h2",null,"item's form")],-1),c={class:"form-form"},d=(0,s._)("div",{id:"success"},null,-1),u={name:"sentMessage",id:"form",novalidate:"novalidate"},g={key:0},p={class:"control-group"},h=(0,s._)("p",{class:"help-block text-danger"},null,-1),m={class:"control-group"},y=(0,s._)("p",{class:"help-block text-danger"},null,-1),v={class:"control-group"},_=(0,s._)("p",{class:"help-block text-danger"},null,-1),f={class:"control-group"},w={class:"form-group"},D=(0,s._)("label",{for:"status"},"select item status",-1),b=(0,s._)("option",null,"PUBLISHED",-1),k=(0,s._)("option",null,"DRAFT",-1),q=(0,s._)("option",null,"RECYCLE",-1),C=[b,k,q],I=(0,s._)("p",{class:"help-block text-danger"},null,-1),x={class:"control-group"},P={class:"form-group"},$=(0,s._)("label",{for:"categoryId"},"select a category name",-1),B=["value","selected"],U=(0,s._)("option",{value:"null"},"create a new category",-1),H=["disabled"],N=(0,s._)("p",{class:"help-block text-danger"},null,-1);function A(e,t,a,b,k,q){return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",n,[r,(0,s._)("div",c,[d,(0,s._)("form",u,[null!=k.requestData.id?((0,s.wg)(),(0,s.iD)("h3",g,"item id:"+(0,i.zw)(k.requestData.id),1)):(0,s.kq)("",!0),(0,s._)("div",p,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"title",placeholder:"item title",required:"required","data-validation-required-message":"Please enter item title","onUpdate:modelValue":t[0]||(t[0]=e=>k.requestData.title=e)},null,512),[[l.nr,k.requestData.title,void 0,{trim:!0}]]),h]),(0,s._)("div",m,[(0,s.wy)((0,s._)("textarea",{class:"form-control",id:"description",placeholder:"item description",required:"required","data-validation-required-message":"Please enter description","onUpdate:modelValue":t[1]||(t[1]=e=>k.requestData.description=e)},null,512),[[l.nr,k.requestData.description,void 0,{trim:!0}]]),y]),(0,s._)("div",v,[(0,s.wy)((0,s._)("input",{type:"number",class:"form-control",id:"price",placeholder:"item price",required:"required","data-validation-required-message":"Please enter your item price","onUpdate:modelValue":t[2]||(t[2]=e=>k.requestData.price=e)},null,512),[[l.nr,k.requestData.price,void 0,{trim:!0}]]),_]),(0,s._)("div",f,[(0,s._)("div",w,[D,(0,s.wy)((0,s._)("select",{class:"form-control",name:"status",id:"status","onUpdate:modelValue":t[3]||(t[3]=e=>k.requestData.status=e)},C,512),[[l.bM,k.requestData.status,void 0,{trim:!0}]])]),I]),(0,s._)("div",x,[(0,s._)("div",P,[$,(0,s.wy)((0,s._)("select",{class:"form-control",name:"categoryId",id:"categoryId","onUpdate:modelValue":t[4]||(t[4]=e=>k.requestData.categoryId=e),onChange:t[5]||(t[5]=(...e)=>q.showTypeArea&&q.showTypeArea(...e))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(k.category,(e=>((0,s.wg)(),(0,s.iD)("option",{key:e.id,value:e.id,selected:k.requestData.categoryId==e.id},(0,i.zw)(e.name),9,B)))),128)),U],544),[[l.bM,k.requestData.categoryId,void 0,{trim:!0}]]),(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"categoryName",placeholder:"Please type new category name","data-validation-required-message":"Please type new category name","onUpdate:modelValue":t[6]||(t[6]=e=>k.requestData.categoryName=e),disabled:null!=k.requestData.categoryId},null,8,H),[[l.nr,k.requestData.categoryName,void 0,{trim:!0}]])]),N]),(0,s._)("div",null,[(0,s._)("button",{class:"btn btn-custom",id:"sendMessageButton",onClick:t[7]||(t[7]=e=>null==k.requestData.id?q.add():q.update())}," Submit Data ")])])])])])}var O=a(8332),z={data(){return{category:[],requestData:{id:null,title:"",description:"",price:1,status:null,categoryId:null,categoryName:null}}},props:{itemId:Number},mounted(){this.initData(),this.getItemData()},methods:{async add(){null==this.requestData.categoryId&&null==this.requestData.categoryName&&(this.requestData.categoryName="default name");let e=await(0,O.OW)(this.requestData,this.$store.getters.config).then((e=>(console.log(e.data),this.requestData={id:null,title:"",description:"",price:1,status:null,categoryId:null,categoryName:null},{status:200,message:"資料新增成功",data:{},show:!0}))).catch((function(e){let{data:t,message:a,status:s}=e.response.data;return{status:s,message:a,data:t,show:!0}}));this.$store.state.requestMessage=e},async update(){null==this.requestData.categoryId&&null==this.requestData.categoryName&&(this.requestData.categoryName="default name");let e=await(0,O.IB)(this.requestData,this.$store.getters.config).then((e=>(console.log(e.data),this.requestData={id:null,title:"",description:"",price:1,status:null,categoryId:null,categoryName:null},{status:200,message:"資料修改成功",data:{},show:!0}))).catch((function(e){let{data:t,message:a,status:s}=e.response.data;return{status:s,message:a,data:t,show:!0}}));this.$store.state.requestMessage=e},initData(){(0,O.OF)().then((e=>{console.log("all ok"),console.log(e.data),this.category=e.data})).catch((function(e){console.log(e.response.data)}))},showTypeArea(){let e=document.getElementById("categoryName");if(console.log("showTypeArea"),null==this.requestData.categoryId||"null"==this.requestData.categoryId)return e.removeAttribute("disabled"),e.style.display="block",this.requestData.categoryId=null,void console.log(e.value);this.requestData.categoryName=null,console.log("2222"),e.setAttribute("disabled","true"),e.style.display="none"},getItemData(){this.$props.itemId&&(0,O.fI)(this.$props.itemId).then((e=>{console.log(e.data);let{id:t,title:a,description:s,price:i,status:l,categoryId:o}=e.data;this.requestData={id:t,title:a,description:s,price:i,status:l,categoryId:o,categoryName:null}})).catch((function(e){let{data:t,message:a,status:s}=e.response.data;return{status:s,message:a,data:t,show:!0}}))}}},M=a(89);const F=(0,M.Z)(z,[["render",A]]);var E=F},2772:function(e,t,a){a.r(t),a.d(t,{default:function(){return te}});var s=a(3396);const i={class:"shop"};function l(e,t,a,l,o,n){const r=(0,s.up)("ShopItems");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(r,{msg:"XXX special price on sale"})])}var o=a(7139),n=a(9242);const r={class:"items"},c=(0,s._)("h1",null,"shop!!",-1),d={key:0,class:"ftco-menu mb-5 pb-5"},u={class:"container"},g={class:"row d-md-flex"},p={class:"col-lg-12 ftco-animate p-md-5 fadeInUp ftco-animated"},h=(0,s.Uk)(" category "),m=(0,s.Uk)("create "),y={class:"row"},v={class:"col-md-12 nav-link-wrap mb-5"},_={class:"nav ftco-animate nav-pills justify-content-center fadeInUp ftco-animated",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},f=["onClick"],w=["onClick"],D=["onClick"],b=["id"],k=["id"],q=["placeholder"],C={class:"col-md-12 d-flex align-items-center"},I={class:"tab-content ftco-animate fadeInUp ftco-animated",id:"v-pills-tabContent"},x=(0,s.Uk)("create "),P={class:"btn btn-primary btn-outline-primary"},$=(0,s.Uk)("price "),B={key:0},U={key:1},H={class:"tab-pane fade show active",id:"v-pills-0",role:"tabpanel","aria-labelledby":"v-pills-0-tab"},N={class:"row"},A={class:"menu-entry"},O={class:"text text-center pt-4"},z={class:"operating text-right"},M=["onClick"],F=["onClick"],E=(0,s._)("a",{href:"#",class:"img",style:{"background-image":"url('https://i.imgur.com/toJy2rB.jpg')"}},null,-1),V={href:"#"},W={class:"price"},S=(0,s._)("p",null,[(0,s._)("a",{href:"#",class:"btn btn-primary btn-outline-primary"},"Add to Cart")],-1),Y={"aria-label":"Page navigation example"},T={class:"pagination justify-content-center"},Z=["onClick"];function j(e,t){const a=(0,s.up)("font-awesome-icon"),i=(0,s.up)("ManagerForm");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",r,[c,(0,s._)("p",null,(0,o.zw)(e.msg),1)]),0==e.input.item.show?((0,s.wg)(),(0,s.iD)("section",d,[(0,s._)("div",u,[(0,s._)("div",g,[(0,s._)("div",p,[(0,s._)("h3",null,[h,(0,s._)("span",{class:"edit",onClick:t[0]||(t[0]=(...t)=>e.createCategoryHandler&&e.createCategoryHandler(...t))},[(0,s.Wm)(a,{icon:"fa-solid fa-plus",class:"edit"}),m])]),(0,s._)("div",y,[(0,s._)("div",v,[(0,s._)("div",_,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.category,((i,l)=>((0,s.wg)(),(0,s.iD)("span",{class:(0,o.C_)(["nav-link",{active:e.isActive(l)}]),id:"v-pills-1-tab","data-toggle":"pill",role:"tab","aria-controls":"v-pills-1","aria-selected":"false",key:i.id,onClick:t=>e.getChildren(i.id,l)},[(0,s._)("div",null,[(0,s._)("button",{class:"edit",onClick:t=>e.editCategoryHandler(i.id)},[(0,s.Wm)(a,{icon:"fa-solid fa-pen"})],8,w),(0,s._)("button",{class:"remove",onClick:t=>e.removeCategoryHandler(i.id)},[(0,s.Wm)(a,{icon:"fa-solid fa-x"})],8,D)]),(0,s._)("label",{id:"category"+i.id},(0,o.zw)(i.name),9,b),(0,s._)("label",{id:"inputCategory"+i.id,style:{display:"none"}},[(0,s.wy)((0,s._)("input",{type:"text",placeholder:i.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.input.category.name=t)},null,8,q),[[n.nr,e.input.category.name]]),(0,s._)("button",{class:"btn-primary",onClick:t[2]||(t[2]=(...t)=>e.updateCategoryData&&e.updateCategoryData(...t))}," ok ")],8,k)],10,f)))),128))])]),(0,s._)("div",C,[(0,s._)("div",I,[(0,s._)("h5",null,[(0,s.Uk)(" Product ("+(0,o.zw)(e.children.length)+")｜page("+(0,o.zw)(e.page+1)+"/"+(0,o.zw)(e.getChildrenPage.length)+") ",1),(0,s._)("span",{class:"edit",onClick:t[3]||(t[3]=e=>this.$router.push("/manager"))},[(0,s.Wm)(a,{icon:"fa-solid fa-plus",class:"edit"}),x])]),(0,s._)("p",{onClick:t[4]||(t[4]=t=>e.getOrderByPriceDes(e.isOrderByPriceDes=!e.isOrderByPriceDes))},[(0,s._)("a",P,[$,null==e.isOrderByPriceDes?((0,s.wg)(),(0,s.iD)("span",B,"▲▼")):((0,s.wg)(),(0,s.iD)("span",U,[(0,s.wy)((0,s._)("span",null,"▲",512),[[n.F8,e.isOrderByPriceDes]]),(0,s.wy)((0,s._)("span",null,"▼",512),[[n.F8,!e.isOrderByPriceDes]])]))])]),(0,s._)("div",H,[(0,s._)("div",N,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.getChildrenPage[e.page],(t=>((0,s.wg)(),(0,s.iD)("div",{class:"col-md-3",key:t.id},[(0,s._)("div",A,[(0,s._)("div",O,[(0,s._)("div",z,[(0,s._)("button",{class:"edit",onClick:a=>e.showItemForm(t.id)},[(0,s.Wm)(a,{icon:"fa-solid fa-pen"})],8,M),(0,s._)("button",{class:"remove",onClick:a=>e.removeItemHandler(t.id)},[(0,s.Wm)(a,{icon:"fa-solid fa-x"})],8,F)]),E,(0,s._)("h3",null,[(0,s._)("a",V,(0,o.zw)(t.title),1)]),(0,s._)("p",null,(0,o.zw)(t.description),1),(0,s._)("p",W,[(0,s._)("span",null,"$"+(0,o.zw)(t.price),1)]),S])])])))),128))])])])]),(0,s._)("nav",Y,[(0,s._)("ul",T,[(0,s._)("li",{class:(0,o.C_)(["page-item",{disabled:0==e.page}])},[(0,s._)("a",{class:"page-link",onClick:t[5]||(t[5]=t=>e.page--)},"Previous")],2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.getChildrenPage,((t,a)=>((0,s.wg)(),(0,s.iD)("li",{class:"page-item",key:a},[(0,s._)("a",{class:"page-link",onClick:t=>e.page=a},(0,o.zw)(a+1),9,Z)])))),128)),(0,s._)("li",{class:(0,o.C_)(["page-item",{disabled:e.page==e.getChildrenPage.length-1}])},[(0,s._)("a",{class:"page-link",onClick:t[6]||(t[6]=t=>e.page++)},"Next")],2)])])])])])])])):((0,s.wg)(),(0,s.j4)(i,{key:1,itemId:e.getItemId},null,8,["itemId"]))],64)}var K=a(1825),X=a(8332),L={data(){return{category:[],children:[],indexActive:0,page:0,isOrderByPriceDes:null,input:{category:{id:null,name:"",show:!1},item:{id:null,show:!1}}}},name:"ShopItems",props:{msg:String},components:{ManagerForm:K.Z},mounted(){this.initData()},methods:{initData(){(0,X.OF)().then((e=>{console.log("all ok"),console.log(e),this.category=e.data,this.children=e.data[0].children,this.indexActive=0})).catch((function(e){console.log(e.response.data)}))},getChildren(e,t){(0,X.EU)(e).then((e=>{console.log("children ok"),console.log(e.data),this.children=e.data.children,this.isOrderByPriceDes=null})).catch((function(e){console.log(e.response.data)})),console.log("id"+e),this.indexActive=t,this.page=0},isActive(e){return this.indexActive==e},getOrderByPriceDes(e){this.children=this.children.sort(((t,a)=>e?t.price-a.price:e?void 0:a.price-t.price))},async removeItemHandler(e){let t=await(0,X.hb)(e,this.$store.getters.config).then((e=>(console.log("remove ok"),console.log(e.data),{status:200,message:"資料刪除成功",data:{},show:!0}))).catch((function(e){let{data:t,message:a,status:s}=e.response.data;return{status:s,message:a,data:t,show:!0}}));this.$store.state.requestMessage=t,this.initData()},async removeCategoryHandler(e){console.log(this.$store.getters.config);let t=await(0,X.rq)(e,this.$store.getters.config).then((e=>(console.log("remove ok"),console.log(e.data),{status:200,message:"資料刪除成功",data:{},show:!0}))).catch((function(e){let{data:t,message:a,status:s}=e.response.data;return{status:s,message:a,data:t,show:!0}}));this.$store.state.requestMessage=t,this.initData(),this.page=0},async createCategoryHandler(){let e=await(0,X.m)(this.$store.getters.config).catch((function(e){let{data:t,message:a,status:s}=e.response.data;return{status:s,message:a,data:t,show:!0}}));this.$store.state.requestMessage=e,this.initData()},editCategoryHandler(e){this.input.category.id=e;let t=document.getElementById(`category${e}`),a=document.getElementById(`inputCategory${e}`);0==this.input.category.show?(console.log(t),t.style.display="none",a.style.display="block",this.input.category.show=!0):(t.style.display="block",a.style.display="none",this.input.category.id=null,this.input.category.name="",this.input.category.show=!1),console.log(e)},async updateCategoryData(){let e=this.input.category;await(0,X.kB)(e,this.$store.getters.config).catch((function(e){let{data:t,message:a,status:s}=e.response.data;return{status:s,message:a,data:t,show:!0}})),this.editCategoryHandler(e.id),this.initData()},showItemForm(e){this.input.item.show=!this.input.item.show,this.input.item.id=e}},computed:{getChildrenPage(){let e=[[]],t=0;return this.children.forEach(((a,s)=>{e[t].push(a),s>0&&(s+1)%8==0&&this.children.length%8!==0&&(t++,e.push([]))})),e},getItemId(){return this.input.item.id}}},R=a(89);const J=(0,R.Z)(L,[["render",j]]);var G=J,Q={name:"ShopView",components:{ShopItems:G}};const ee=(0,R.Z)(Q,[["render",l]]);var te=ee}}]);
//# sourceMappingURL=772.a75644f6.js.map